{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hasan\\\\webproj\\\\openlayers-project\\\\src\\\\components\\\\Map.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { fetchWktData } from '../store/wktSlice';\nimport Map from 'ol/Map';\nimport View from 'ol/View';\nimport TileLayer from 'ol/layer/Tile';\nimport VectorLayer from 'ol/layer/Vector';\nimport VectorSource from 'ol/source/Vector';\nimport OSM from 'ol/source/OSM';\nimport { WKT } from 'ol/format';\nimport { fromLonLat } from 'ol/proj';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MapComponent = () => {\n  _s();\n  const dispatch = useDispatch();\n  const wktData = useSelector(state => state.wkt.wktData);\n  const status = useSelector(state => state.wkt.status);\n  useEffect(() => {\n    dispatch(fetchWktData()); // Redux üzerinden veri çek\n  }, [dispatch]);\n  useEffect(() => {\n    console.log('wktData:', wktData);\n    console.log('status:', status);\n  }, [wktData, status]);\n  useEffect(() => {\n    const vectorSource = new VectorSource();\n    const map = new Map({\n      target: 'map',\n      layers: [new TileLayer({\n        source: new OSM()\n      }), new VectorLayer({\n        source: vectorSource\n      })],\n      view: new View({\n        center: fromLonLat([0, 0]),\n        zoom: 2\n      })\n    });\n    if (status === 'succeeded') {\n      const format = new WKT();\n      wktData.forEach(({\n        log,\n        id,\n        name\n      }) => {\n        const feature = format.readFeature(log, {\n          dataProjection: 'EPSG:3857',\n          featureProjection: 'EPSG:3857'\n        });\n        feature.setProperties({\n          id,\n          name\n        });\n        vectorSource.addFeature(feature);\n      });\n    }\n  }, [wktData, status]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"map\",\n    className: \"w-full h-screen\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 10\n  }, this);\n};\n_s(MapComponent, \"cT7RnFfNCURdecxrwgcUwdte+nQ=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n});\n_c = MapComponent;\nexport default MapComponent;\nvar _c;\n$RefreshReg$(_c, \"MapComponent\");","map":{"version":3,"names":["React","useEffect","useSelector","useDispatch","fetchWktData","Map","View","TileLayer","VectorLayer","VectorSource","OSM","WKT","fromLonLat","jsxDEV","_jsxDEV","MapComponent","_s","dispatch","wktData","state","wkt","status","console","log","vectorSource","map","target","layers","source","view","center","zoom","format","forEach","id","name","feature","readFeature","dataProjection","featureProjection","setProperties","addFeature","className","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/hasan/webproj/openlayers-project/src/components/Map.js"],"sourcesContent":["import React, { useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { fetchWktData } from '../store/wktSlice';\r\nimport Map from 'ol/Map';\r\nimport View from 'ol/View';\r\nimport TileLayer from 'ol/layer/Tile';\r\nimport VectorLayer from 'ol/layer/Vector';\r\nimport VectorSource from 'ol/source/Vector';\r\nimport OSM from 'ol/source/OSM';\r\nimport { WKT } from 'ol/format';\r\nimport { fromLonLat } from 'ol/proj';\r\n\r\nconst MapComponent = () => {\r\n  const dispatch = useDispatch();\r\n  const wktData = useSelector((state) => state.wkt.wktData);\r\n  const status = useSelector((state) => state.wkt.status);\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchWktData()); // Redux üzerinden veri çek\r\n  }, [dispatch]);\r\n\r\n  useEffect(() => {\r\n    console.log('wktData:', wktData);\r\n    console.log('status:', status);\r\n  }, [wktData, status]);\r\n  \r\n\r\n  useEffect(() => {\r\n    const vectorSource = new VectorSource();\r\n\r\n    const map = new Map({\r\n      target: 'map',\r\n      layers: [\r\n        new TileLayer({ source: new OSM() }),\r\n        new VectorLayer({ source: vectorSource }),\r\n      ],\r\n      view: new View({ center: fromLonLat([0, 0]), zoom: 2 }),\r\n    });\r\n\r\n    if (status === 'succeeded') {\r\n      const format = new WKT();\r\n      wktData.forEach(({ log, id, name }) => {\r\n        const feature = format.readFeature(log, {\r\n          dataProjection: 'EPSG:3857',\r\n          featureProjection: 'EPSG:3857',\r\n        });\r\n\r\n        feature.setProperties({ id, name });\r\n\r\n        vectorSource.addFeature(feature);\r\n      });\r\n    }\r\n  }, [wktData, status]);\r\n\r\n  return <div id=\"map\" className=\"w-full h-screen\"></div>;\r\n};\r\n\r\nexport default MapComponent;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,SAASC,WAAW,EAAEC,WAAW,QAAQ,aAAa;AACtD,SAASC,YAAY,QAAQ,mBAAmB;AAChD,OAAOC,GAAG,MAAM,QAAQ;AACxB,OAAOC,IAAI,MAAM,SAAS;AAC1B,OAAOC,SAAS,MAAM,eAAe;AACrC,OAAOC,WAAW,MAAM,iBAAiB;AACzC,OAAOC,YAAY,MAAM,kBAAkB;AAC3C,OAAOC,GAAG,MAAM,eAAe;AAC/B,SAASC,GAAG,QAAQ,WAAW;AAC/B,SAASC,UAAU,QAAQ,SAAS;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAErC,MAAMC,YAAY,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACzB,MAAMC,QAAQ,GAAGd,WAAW,CAAC,CAAC;EAC9B,MAAMe,OAAO,GAAGhB,WAAW,CAAEiB,KAAK,IAAKA,KAAK,CAACC,GAAG,CAACF,OAAO,CAAC;EACzD,MAAMG,MAAM,GAAGnB,WAAW,CAAEiB,KAAK,IAAKA,KAAK,CAACC,GAAG,CAACC,MAAM,CAAC;EAEvDpB,SAAS,CAAC,MAAM;IACdgB,QAAQ,CAACb,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC;EAC5B,CAAC,EAAE,CAACa,QAAQ,CAAC,CAAC;EAEdhB,SAAS,CAAC,MAAM;IACdqB,OAAO,CAACC,GAAG,CAAC,UAAU,EAAEL,OAAO,CAAC;IAChCI,OAAO,CAACC,GAAG,CAAC,SAAS,EAAEF,MAAM,CAAC;EAChC,CAAC,EAAE,CAACH,OAAO,EAAEG,MAAM,CAAC,CAAC;EAGrBpB,SAAS,CAAC,MAAM;IACd,MAAMuB,YAAY,GAAG,IAAIf,YAAY,CAAC,CAAC;IAEvC,MAAMgB,GAAG,GAAG,IAAIpB,GAAG,CAAC;MAClBqB,MAAM,EAAE,KAAK;MACbC,MAAM,EAAE,CACN,IAAIpB,SAAS,CAAC;QAAEqB,MAAM,EAAE,IAAIlB,GAAG,CAAC;MAAE,CAAC,CAAC,EACpC,IAAIF,WAAW,CAAC;QAAEoB,MAAM,EAAEJ;MAAa,CAAC,CAAC,CAC1C;MACDK,IAAI,EAAE,IAAIvB,IAAI,CAAC;QAAEwB,MAAM,EAAElB,UAAU,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAAEmB,IAAI,EAAE;MAAE,CAAC;IACxD,CAAC,CAAC;IAEF,IAAIV,MAAM,KAAK,WAAW,EAAE;MAC1B,MAAMW,MAAM,GAAG,IAAIrB,GAAG,CAAC,CAAC;MACxBO,OAAO,CAACe,OAAO,CAAC,CAAC;QAAEV,GAAG;QAAEW,EAAE;QAAEC;MAAK,CAAC,KAAK;QACrC,MAAMC,OAAO,GAAGJ,MAAM,CAACK,WAAW,CAACd,GAAG,EAAE;UACtCe,cAAc,EAAE,WAAW;UAC3BC,iBAAiB,EAAE;QACrB,CAAC,CAAC;QAEFH,OAAO,CAACI,aAAa,CAAC;UAAEN,EAAE;UAAEC;QAAK,CAAC,CAAC;QAEnCX,YAAY,CAACiB,UAAU,CAACL,OAAO,CAAC;MAClC,CAAC,CAAC;IACJ;EACF,CAAC,EAAE,CAAClB,OAAO,EAAEG,MAAM,CAAC,CAAC;EAErB,oBAAOP,OAAA;IAAKoB,EAAE,EAAC,KAAK;IAACQ,SAAS,EAAC;EAAiB;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAM,CAAC;AACzD,CAAC;AAAC9B,EAAA,CA3CID,YAAY;EAAA,QACCZ,WAAW,EACZD,WAAW,EACZA,WAAW;AAAA;AAAA6C,EAAA,GAHtBhC,YAAY;AA6ClB,eAAeA,YAAY;AAAC,IAAAgC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}